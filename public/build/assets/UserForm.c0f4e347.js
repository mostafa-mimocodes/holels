import{_,B as g,o as r,g as a,d as e,x as n,y as d,n as h,t as c,m as p,C as m,F as f,l as b,e as v}from"./app.6c94312b.js";const x={name:"UserForm",props:{user:Object,roles:Array},data(){return{editForm:{name:this.user?this.user.name:"",email:this.user?this.user.email:"",gender:this.user?this.user.gender:"male",language:this.user?this.user.language:"en",phone:this.user?this.user.phone:"",role_id:this.user?this.user.roles[0].id:this.roles[0].name,image:null}}},mounted(){console.log(this.user),this.emitter.on("submit-form",()=>{this.submitEditForm()}),this.emitter.on("cancel-form",()=>{this.cancel()}),console.log(this.roles[0].id),this.editUserJS(),this.user&&this.user.image?$("#kt_user_edit_avatar").css("background-image",'url("/'+this.user.image+'")'):$("#kt_user_edit_avatar").css("background-image",'url("/media/users/default.jpg")')},methods:{async submitEditForm(){await this.$inertia.post(this.user?route("users.update",this.user):route("users.store"),{_method:this.user?"put":"post",name:this.editForm.name,email:this.editForm.email,gender:this.editForm.gender,language:this.editForm.language,phone:this.editForm.phone,role_id:this.editForm.role_id,image:this.editForm.image}),this.user&&this.$page.props.flash.edited.length>0&&toastr.success(this.$page.props.flash.edited),this.emitter.off("submit-form")},cancel(){g.Inertia.get(route("users.cancel")),this.emitter.off("cancel-form")},onFileChange(u){this.editForm.image=u.target.files[0]},editUserJS(){new KTImageInput("kt_user_edit_avatar")}},computed:{errors(){return this.$page.props.errors}}},F={class:"row"},w=e("div",{class:"col-xl-2"},null,-1),y={class:"col-xl-7 my-2"},k=e("div",{class:"row"},[e("label",{class:"col-3"}),e("div",{class:"col-9"},[e("h6",{class:"text-dark font-weight-bold mb-10"},"Customer info")])],-1),C={class:"form-group row"},U=e("label",{class:"col-form-label col-3 text-lg-right text-left"},"Avatar",-1),S={class:"col-9"},E={class:"image-input image-input-empty image-input-outline",id:"kt_user_edit_avatar"},V=e("div",{class:"image-input-wrapper"},null,-1),j={class:"btn btn-xs btn-icon btn-circle btn-white btn-hover-text-primary btn-shadow","data-action":"change","data-toggle":"tooltip",title:"","data-original-title":"Change avatar"},B=e("i",{class:"fa fa-pen icon-sm text-muted"},null,-1),M=e("input",{type:"hidden",name:"profile_avatar_remove"},null,-1),I=e("span",{class:"btn btn-xs btn-icon btn-circle btn-white btn-hover-text-primary btn-shadow","data-action":"cancel","data-toggle":"tooltip",title:"Cancel avatar"},[e("i",{class:"ki ki-bold-close icon-xs text-muted"})],-1),L=e("span",{class:"btn btn-xs btn-icon btn-circle btn-white btn-hover-text-primary btn-shadow","data-action":"remove","data-toggle":"tooltip",title:"Remove avatar"},[e("i",{class:"ki ki-bold-close icon-xs text-muted"})],-1),N={class:"form-group row"},R=e("label",{class:"col-form-label col-3 text-lg-right text-left"},"Name",-1),A={class:"col-9"},D={key:0,class:"invalid-feedback"},G={class:"form-group row"},J=e("label",{class:"col-form-label col-3 text-lg-right text-left"},"Email",-1),P={class:"col-9"},T={class:"input-group input-group-lg input-group-solid"},z=e("div",{class:"input-group-prepend"},[e("span",{class:"input-group-text"},[e("i",{class:"la la-at"})])],-1),K={key:0,class:"form-text text-danger"},O={key:1,class:"form-text text-muted"},W={class:"form-group row"},q=e("label",{class:"col-form-label col-3 text-lg-right text-left"},"Gender",-1),H={class:"col-9"},Q=e("option",{disabled:""},"Select Gender",-1),X=["selected"],Y=["selected"],Z={class:"form-group row"},ee=e("label",{class:"col-form-label col-3 text-lg-right text-left"},"Language",-1),te={class:"col-9"},se=e("option",{disabled:""},"Select Language...",-1),oe=["selected"],le=["selected"],ie={class:"form-group row"},re=e("label",{class:"col-form-label col-3 text-lg-right text-left"},"Phone",-1),ae={class:"col-9"},ne={class:"input-group input-group-lg input-group-solid"},de=e("div",{class:"input-group-prepend"},[e("span",{class:"input-group-text"},[e("i",{class:"la la-phone"})])],-1),ce=e("span",{class:"form-text text-muted"},"We'll never share your email with anyone else.",-1),me={class:"form-group row"},ue=e("label",{class:"col-form-label col-3 text-lg-right text-left"},"Role",-1),he={class:"col-lg-9 col-xl-9"},_e={class:"input-group input-group-solid input-group-lg"},ge=["selected"],pe=["value","selected"],fe={class:"card-footer pb-0"},be={class:"row"},ve=e("div",{class:"col-xl-2"},null,-1),xe={class:"col-xl-7"},Fe={class:"row"},we=e("div",{class:"col-3"},null,-1),ye={class:"col-9"},ke=e("button",{type:"submit",class:"btn btn-light-primary font-weight-bold"},"Save changes",-1);function Ce(u,s,o,Ue,l,i){return r(),a("form",{class:"form",onSubmit:s[8]||(s[8]=v((...t)=>i.submitEditForm&&i.submitEditForm(...t),["prevent"])),id:"kt_form"},[e("div",F,[w,e("div",y,[k,e("div",C,[U,e("div",S,[e("div",E,[V,e("label",j,[B,e("input",{type:"file",name:"profile_avatar",accept:".png, .jpg, .jpeg",onChange:s[0]||(s[0]=(...t)=>i.onFileChange&&i.onFileChange(...t))},null,32),M]),I,L])])]),e("div",N,[R,e("div",A,[e("div",null,[n(e("input",{class:h(["form-control form-control-lg form-control-solid",{"is-invalid":i.errors.name}]),name:"name","onUpdate:modelValue":s[1]||(s[1]=t=>l.editForm.name=t),type:"text"},null,2),[[d,l.editForm.name]]),i.errors.name?(r(),a("div",D,c(i.errors.name),1)):p("",!0)])])]),e("div",G,[J,e("div",P,[e("div",T,[z,n(e("input",{type:"text",class:h(["form-control form-control-lg form-control-solid",{"is-invalid":i.errors.email}]),name:"email","onUpdate:modelValue":s[2]||(s[2]=t=>l.editForm.email=t),placeholder:"Email"},null,2),[[d,l.editForm.email]])]),i.errors.email?(r(),a("span",K,c(i.errors.email),1)):(r(),a("span",O,"Email will not be publicly displayed "))])]),e("div",W,[q,e("div",H,[n(e("select",{"onUpdate:modelValue":s[3]||(s[3]=t=>l.editForm.gender=t),name:"gender",class:"form-control form-control-lg form-control-solid"},[Q,e("option",{selected:o.user?o.user.gender=="male":!0,value:"male"},"Male",8,X),e("option",{selected:o.user?o.user.gender=="female":!1,value:"female"},"Female",8,Y)],512),[[m,l.editForm.gender]])])]),e("div",Z,[ee,e("div",te,[n(e("select",{"onUpdate:modelValue":s[4]||(s[4]=t=>l.editForm.language=t),class:"form-control form-control-lg form-control-solid"},[se,e("option",{value:"en",selected:o.user?o.user.language=="en":!0},"en",8,oe),e("option",{value:"ar",selected:o.user?o.user.language=="ar":!1},"ar",8,le)],512),[[m,l.editForm.language]])])]),e("div",ie,[re,e("div",ae,[e("div",ne,[de,n(e("input",{type:"text","onUpdate:modelValue":s[5]||(s[5]=t=>l.editForm.phone=t),class:"form-control form-control-lg form-control-solid",placeholder:"Phone"},null,512),[[d,l.editForm.phone]])]),ce])]),e("div",me,[ue,e("div",he,[e("div",_e,[n(e("select",{"onUpdate:modelValue":s[6]||(s[6]=t=>l.editForm.role_id=t),name:"role_id",id:"role",class:"form-control form-control-alternative"},[e("option",{disabled:"",selected:!o.user},"Select Role",8,ge),(r(!0),a(f,null,b(o.roles,t=>(r(),a("option",{value:t.id,selected:o.user?t.id==o.user.roles[0].id:!1},c(t.name),9,pe))),256))],512),[[m,l.editForm.role_id]])])])])])]),e("div",fe,[e("div",be,[ve,e("div",xe,[e("div",Fe,[we,e("div",ye,[ke,e("button",{type:"button",onClick:s[7]||(s[7]=(...t)=>i.cancel&&i.cancel(...t)),class:"btn btn-clean font-weight-bold"},"Cancel")])])])])])],32)}const Ee=_(x,[["render",Ce]]);export{Ee as U};
